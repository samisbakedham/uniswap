{"ast":null,"code":"import _objectSpread from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _styled from\"styled-components\";var _ZOOM_LEVELS;import{Trans}from\"@lingui/react\";import{FeeAmount}from'@uniswap/v3-sdk';import{AutoColumn,ColumnCenter}from'components/Column';import Loader from'components/Loader';import{format}from'd3';import{useColor}from'hooks/useColor';import useTheme from'hooks/useTheme';import{saturate}from'polished';import React,{useCallback,useMemo}from'react';import{BarChart2,CloudOff,Inbox}from'react-feather';import ReactGA from'react-ga';import{batch}from'react-redux';import{Bound}from'state/mint/v3/actions';import{ThemedText}from'../../theme';import{Chart}from'./Chart';import{useDensityChartData}from'./hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ZOOM_LEVELS=(_ZOOM_LEVELS={},_defineProperty(_ZOOM_LEVELS,FeeAmount.LOWEST,{initialMin:0.999,initialMax:1.001,min:0.00001,max:1.5}),_defineProperty(_ZOOM_LEVELS,FeeAmount.LOW,{initialMin:0.999,initialMax:1.001,min:0.00001,max:1.5}),_defineProperty(_ZOOM_LEVELS,FeeAmount.MEDIUM,{initialMin:0.5,initialMax:2,min:0.00001,max:20}),_defineProperty(_ZOOM_LEVELS,FeeAmount.HIGH,{initialMin:0.5,initialMax:2,min:0.00001,max:20}),_ZOOM_LEVELS);var ChartWrapper=_styled.div.withConfig({componentId:\"sc-acskj6-0\"})([\"position:relative;justify-content:center;align-content:center;\"]);function InfoBox(_ref){var message=_ref.message,icon=_ref.icon;return/*#__PURE__*/_jsxs(ColumnCenter,{style:{height:'100%',justifyContent:'center'},children:[icon,message&&/*#__PURE__*/_jsx(ThemedText.MediumHeader,{padding:10,marginTop:\"20px\",textAlign:\"center\",children:message})]});}export default function LiquidityChartRangeInput(_ref2){var _saturate,_saturate2;var currencyA=_ref2.currencyA,currencyB=_ref2.currencyB,feeAmount=_ref2.feeAmount,ticksAtLimit=_ref2.ticksAtLimit,price=_ref2.price,priceLower=_ref2.priceLower,priceUpper=_ref2.priceUpper,onLeftRangeInput=_ref2.onLeftRangeInput,onRightRangeInput=_ref2.onRightRangeInput,interactive=_ref2.interactive;var theme=useTheme();var tokenAColor=useColor(currencyA===null||currencyA===void 0?void 0:currencyA.wrapped);var tokenBColor=useColor(currencyB===null||currencyB===void 0?void 0:currencyB.wrapped);var isSorted=currencyA&&currencyB&&(currencyA===null||currencyA===void 0?void 0:currencyA.wrapped.sortsBefore(currencyB===null||currencyB===void 0?void 0:currencyB.wrapped));var _useDensityChartData=useDensityChartData({currencyA:currencyA,currencyB:currencyB,feeAmount:feeAmount}),isLoading=_useDensityChartData.isLoading,isUninitialized=_useDensityChartData.isUninitialized,isError=_useDensityChartData.isError,error=_useDensityChartData.error,formattedData=_useDensityChartData.formattedData;var onBrushDomainChangeEnded=useCallback(function(domain,mode){var leftRangeValue=Number(domain[0]);var rightRangeValue=Number(domain[1]);if(leftRangeValue<=0){leftRangeValue=1/Math.pow(10,6);}batch(function(){// simulate user input for auto-formatting and other validations\nif((!ticksAtLimit[isSorted?Bound.LOWER:Bound.UPPER]||mode==='handle'||mode==='reset')&&leftRangeValue>0){onLeftRangeInput(leftRangeValue.toFixed(6));}if((!ticksAtLimit[isSorted?Bound.UPPER:Bound.LOWER]||mode==='reset')&&rightRangeValue>0){// todo: remove this check. Upper bound for large numbers\n// sometimes fails to parse to tick.\nif(rightRangeValue<1e35){onRightRangeInput(rightRangeValue.toFixed(6));}}});},[isSorted,onLeftRangeInput,onRightRangeInput,ticksAtLimit]);interactive=interactive&&Boolean(formattedData===null||formattedData===void 0?void 0:formattedData.length);var brushDomain=useMemo(function(){var leftPrice=isSorted?priceLower:priceUpper===null||priceUpper===void 0?void 0:priceUpper.invert();var rightPrice=isSorted?priceUpper:priceLower===null||priceLower===void 0?void 0:priceLower.invert();return leftPrice&&rightPrice?[parseFloat(leftPrice===null||leftPrice===void 0?void 0:leftPrice.toSignificant(6)),parseFloat(rightPrice===null||rightPrice===void 0?void 0:rightPrice.toSignificant(6))]:undefined;},[isSorted,priceLower,priceUpper]);var brushLabelValue=useCallback(function(d,x){if(!price)return'';if(d==='w'&&ticksAtLimit[isSorted?Bound.LOWER:Bound.UPPER])return'0';if(d==='e'&&ticksAtLimit[isSorted?Bound.UPPER:Bound.LOWER])return'∞';var percent=(x<price?-1:1)*((Math.max(x,price)-Math.min(x,price))/price)*100;return price?\"\".concat(format(Math.abs(percent)>1?'.2~s':'.2~f')(percent),\"%\"):'';},[isSorted,price,ticksAtLimit]);if(isError){ReactGA.exception(_objectSpread(_objectSpread({},error),{},{category:'Liquidity',fatal:false}));}return/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",style:{minHeight:'200px'},children:isUninitialized?/*#__PURE__*/_jsx(InfoBox,{message:/*#__PURE__*/_jsx(Trans,{id:\"Your position will appear here.\"}),icon:/*#__PURE__*/_jsx(Inbox,{size:56,stroke:theme.text1})}):isLoading?/*#__PURE__*/_jsx(InfoBox,{icon:/*#__PURE__*/_jsx(Loader,{size:\"40px\",stroke:theme.text4})}):isError?/*#__PURE__*/_jsx(InfoBox,{message:/*#__PURE__*/_jsx(Trans,{id:\"Liquidity data not available.\"}),icon:/*#__PURE__*/_jsx(CloudOff,{size:56,stroke:theme.text4})}):!formattedData||formattedData===[]||!price?/*#__PURE__*/_jsx(InfoBox,{message:/*#__PURE__*/_jsx(Trans,{id:\"There is no liquidity data.\"}),icon:/*#__PURE__*/_jsx(BarChart2,{size:56,stroke:theme.text4})}):/*#__PURE__*/_jsx(ChartWrapper,{children:/*#__PURE__*/_jsx(Chart,{data:{series:formattedData,current:price},dimensions:{width:400,height:200},margins:{top:10,right:2,bottom:20,left:0},styles:{area:{selection:theme.blue1},brush:{handle:{west:(_saturate=saturate(0.1,tokenAColor))!==null&&_saturate!==void 0?_saturate:theme.red1,east:(_saturate2=saturate(0.1,tokenBColor))!==null&&_saturate2!==void 0?_saturate2:theme.blue1}}},interactive:interactive,brushLabels:brushLabelValue,brushDomain:brushDomain,onBrushDomainChange:onBrushDomainChangeEnded,zoomLevels:ZOOM_LEVELS[feeAmount!==null&&feeAmount!==void 0?feeAmount:FeeAmount.MEDIUM],ticksAtLimit:ticksAtLimit})})});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/LiquidityChartRangeInput/index.tsx"],"names":["FeeAmount","AutoColumn","ColumnCenter","Loader","format","useColor","useTheme","saturate","React","useCallback","useMemo","BarChart2","CloudOff","Inbox","ReactGA","batch","Bound","ThemedText","Chart","useDensityChartData","ZOOM_LEVELS","LOWEST","initialMin","initialMax","min","max","LOW","MEDIUM","HIGH","ChartWrapper","styled","div","InfoBox","message","icon","height","justifyContent","LiquidityChartRangeInput","currencyA","currencyB","feeAmount","ticksAtLimit","price","priceLower","priceUpper","onLeftRangeInput","onRightRangeInput","interactive","theme","tokenAColor","wrapped","tokenBColor","isSorted","sortsBefore","isLoading","isUninitialized","isError","error","formattedData","onBrushDomainChangeEnded","domain","mode","leftRangeValue","Number","rightRangeValue","LOWER","UPPER","toFixed","Boolean","length","brushDomain","leftPrice","invert","rightPrice","parseFloat","toSignificant","undefined","brushLabelValue","d","x","percent","Math","abs","exception","category","fatal","minHeight","text1","text4","series","current","width","top","right","bottom","left","area","selection","blue1","brush","handle","west","red1","east"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Currency, Price, Token } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { AutoColumn, ColumnCenter } from 'components/Column'\nimport Loader from 'components/Loader'\nimport { format } from 'd3'\nimport { useColor } from 'hooks/useColor'\nimport useTheme from 'hooks/useTheme'\nimport { saturate } from 'polished'\nimport React, { ReactNode, useCallback, useMemo } from 'react'\nimport { BarChart2, CloudOff, Inbox } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { batch } from 'react-redux'\nimport { Bound } from 'state/mint/v3/actions'\nimport styled from 'styled-components/macro'\n\nimport { ThemedText } from '../../theme'\nimport { Chart } from './Chart'\nimport { useDensityChartData } from './hooks'\nimport { ZoomLevels } from './types'\n\nconst ZOOM_LEVELS: Record<FeeAmount, ZoomLevels> = {\n  [FeeAmount.LOWEST]: {\n    initialMin: 0.999,\n    initialMax: 1.001,\n    min: 0.00001,\n    max: 1.5,\n  },\n  [FeeAmount.LOW]: {\n    initialMin: 0.999,\n    initialMax: 1.001,\n    min: 0.00001,\n    max: 1.5,\n  },\n  [FeeAmount.MEDIUM]: {\n    initialMin: 0.5,\n    initialMax: 2,\n    min: 0.00001,\n    max: 20,\n  },\n  [FeeAmount.HIGH]: {\n    initialMin: 0.5,\n    initialMax: 2,\n    min: 0.00001,\n    max: 20,\n  },\n}\n\nconst ChartWrapper = styled.div`\n  position: relative;\n\n  justify-content: center;\n  align-content: center;\n`\n\nfunction InfoBox({ message, icon }: { message?: ReactNode; icon: ReactNode }) {\n  return (\n    <ColumnCenter style={{ height: '100%', justifyContent: 'center' }}>\n      {icon}\n      {message && (\n        <ThemedText.MediumHeader padding={10} marginTop=\"20px\" textAlign=\"center\">\n          {message}\n        </ThemedText.MediumHeader>\n      )}\n    </ColumnCenter>\n  )\n}\n\nexport default function LiquidityChartRangeInput({\n  currencyA,\n  currencyB,\n  feeAmount,\n  ticksAtLimit,\n  price,\n  priceLower,\n  priceUpper,\n  onLeftRangeInput,\n  onRightRangeInput,\n  interactive,\n}: {\n  currencyA: Currency | undefined\n  currencyB: Currency | undefined\n  feeAmount?: FeeAmount\n  ticksAtLimit: { [bound in Bound]?: boolean | undefined }\n  price: number | undefined\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  onLeftRangeInput: (typedValue: string) => void\n  onRightRangeInput: (typedValue: string) => void\n  interactive: boolean\n}) {\n  const theme = useTheme()\n\n  const tokenAColor = useColor(currencyA?.wrapped)\n  const tokenBColor = useColor(currencyB?.wrapped)\n\n  const isSorted = currencyA && currencyB && currencyA?.wrapped.sortsBefore(currencyB?.wrapped)\n\n  const { isLoading, isUninitialized, isError, error, formattedData } = useDensityChartData({\n    currencyA,\n    currencyB,\n    feeAmount,\n  })\n\n  const onBrushDomainChangeEnded = useCallback(\n    (domain, mode) => {\n      let leftRangeValue = Number(domain[0])\n      const rightRangeValue = Number(domain[1])\n\n      if (leftRangeValue <= 0) {\n        leftRangeValue = 1 / 10 ** 6\n      }\n\n      batch(() => {\n        // simulate user input for auto-formatting and other validations\n        if (\n          (!ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER] || mode === 'handle' || mode === 'reset') &&\n          leftRangeValue > 0\n        ) {\n          onLeftRangeInput(leftRangeValue.toFixed(6))\n        }\n\n        if ((!ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER] || mode === 'reset') && rightRangeValue > 0) {\n          // todo: remove this check. Upper bound for large numbers\n          // sometimes fails to parse to tick.\n          if (rightRangeValue < 1e35) {\n            onRightRangeInput(rightRangeValue.toFixed(6))\n          }\n        }\n      })\n    },\n    [isSorted, onLeftRangeInput, onRightRangeInput, ticksAtLimit]\n  )\n\n  interactive = interactive && Boolean(formattedData?.length)\n\n  const brushDomain: [number, number] | undefined = useMemo(() => {\n    const leftPrice = isSorted ? priceLower : priceUpper?.invert()\n    const rightPrice = isSorted ? priceUpper : priceLower?.invert()\n\n    return leftPrice && rightPrice\n      ? [parseFloat(leftPrice?.toSignificant(6)), parseFloat(rightPrice?.toSignificant(6))]\n      : undefined\n  }, [isSorted, priceLower, priceUpper])\n\n  const brushLabelValue = useCallback(\n    (d: 'w' | 'e', x: number) => {\n      if (!price) return ''\n\n      if (d === 'w' && ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER]) return '0'\n      if (d === 'e' && ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER]) return '∞'\n\n      const percent = (x < price ? -1 : 1) * ((Math.max(x, price) - Math.min(x, price)) / price) * 100\n\n      return price ? `${format(Math.abs(percent) > 1 ? '.2~s' : '.2~f')(percent)}%` : ''\n    },\n    [isSorted, price, ticksAtLimit]\n  )\n\n  if (isError) {\n    ReactGA.exception({\n      ...error,\n      category: 'Liquidity',\n      fatal: false,\n    })\n  }\n\n  return (\n    <AutoColumn gap=\"md\" style={{ minHeight: '200px' }}>\n      {isUninitialized ? (\n        <InfoBox\n          message={<Trans>Your position will appear here.</Trans>}\n          icon={<Inbox size={56} stroke={theme.text1} />}\n        />\n      ) : isLoading ? (\n        <InfoBox icon={<Loader size=\"40px\" stroke={theme.text4} />} />\n      ) : isError ? (\n        <InfoBox\n          message={<Trans>Liquidity data not available.</Trans>}\n          icon={<CloudOff size={56} stroke={theme.text4} />}\n        />\n      ) : !formattedData || formattedData === [] || !price ? (\n        <InfoBox\n          message={<Trans>There is no liquidity data.</Trans>}\n          icon={<BarChart2 size={56} stroke={theme.text4} />}\n        />\n      ) : (\n        <ChartWrapper>\n          <Chart\n            data={{ series: formattedData, current: price }}\n            dimensions={{ width: 400, height: 200 }}\n            margins={{ top: 10, right: 2, bottom: 20, left: 0 }}\n            styles={{\n              area: {\n                selection: theme.blue1,\n              },\n              brush: {\n                handle: {\n                  west: saturate(0.1, tokenAColor) ?? theme.red1,\n                  east: saturate(0.1, tokenBColor) ?? theme.blue1,\n                },\n              },\n            }}\n            interactive={interactive}\n            brushLabels={brushLabelValue}\n            brushDomain={brushDomain}\n            onBrushDomainChange={onBrushDomainChangeEnded}\n            zoomLevels={ZOOM_LEVELS[feeAmount ?? FeeAmount.MEDIUM]}\n            ticksAtLimit={ticksAtLimit}\n          />\n        </ChartWrapper>\n      )}\n    </AutoColumn>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}