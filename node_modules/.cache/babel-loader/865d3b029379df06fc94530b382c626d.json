{"ast":null,"code":"import _objectSpread from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import React from'react';import ReactGA from'react-ga';import store from'../../state';import{ExternalLink,ThemedText}from'../../theme';import{userAgent}from'../../utils/userAgent';import{AutoColumn}from'../Column';import{AutoRow}from'../Row';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FallbackWrapper=_styled.div.withConfig({componentId:\"sc-n7dgia-0\"})([\"display:flex;flex-direction:column;width:100%;align-items:center;z-index:1;\"]);var BodyWrapper=_styled.div.withConfig({componentId:\"sc-n7dgia-1\"})([\"padding:1rem;width:100%;white-space:;\"]);var CodeBlockWrapper=_styled.div.withConfig({componentId:\"sc-n7dgia-2\"})([\"background:\",\";overflow:auto;white-space:pre;box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:24px;padding:18px 24px;color:\",\";\"],function(_ref){var theme=_ref.theme;return theme.bg0;},function(_ref2){var theme=_ref2.theme;return theme.text1;});var LinkWrapper=_styled.div.withConfig({componentId:\"sc-n7dgia-3\"})([\"color:\",\";padding:6px 24px;\"],function(_ref3){var theme=_ref3.theme;return theme.blue1;});var SomethingWentWrongWrapper=_styled.div.withConfig({componentId:\"sc-n7dgia-4\"})([\"padding:6px 24px;\"]);var IS_UNISWAP=window.location.hostname==='app.uniswap.org';var ErrorBoundary=/*#__PURE__*/function(_React$Component){_inherits(ErrorBoundary,_React$Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(props){var _this;_classCallCheck(this,ErrorBoundary);_this=_super.call(this,props);_this.state={error:null};return _this;}_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){ReactGA.exception(_objectSpread(_objectSpread(_objectSpread({},error),errorInfo),{},{fatal:true}));}},{key:\"render\",value:function render(){var error=this.state.error;if(error!==null){var encodedBody=encodeURIComponent(issueBody(error));return/*#__PURE__*/_jsx(FallbackWrapper,{children:/*#__PURE__*/_jsx(BodyWrapper,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:'md',children:[/*#__PURE__*/_jsx(SomethingWentWrongWrapper,{children:/*#__PURE__*/_jsx(ThemedText.Label,{fontSize:24,fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Something went wrong\"})})}),/*#__PURE__*/_jsx(CodeBlockWrapper,{children:/*#__PURE__*/_jsx(\"code\",{children:/*#__PURE__*/_jsx(ThemedText.Main,{fontSize:10,children:error.stack})})}),IS_UNISWAP?/*#__PURE__*/_jsxs(AutoRow,{children:[/*#__PURE__*/_jsx(LinkWrapper,{children:/*#__PURE__*/_jsx(ExternalLink,{id:\"create-github-issue-link\",href:\"https://github.com/Uniswap/uniswap-interface/issues/new?assignees=&labels=bug&body=\".concat(encodedBody,\"&title=\").concat(encodeURIComponent(\"Crash report: `\".concat(error.name).concat(error.message&&\": \".concat(error.message),\"`\"))),target:\"_blank\",children:/*#__PURE__*/_jsxs(ThemedText.Link,{fontSize:16,children:[/*#__PURE__*/_jsx(Trans,{id:\"Create an issue on GitHub\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2197\"})]})})}),/*#__PURE__*/_jsx(LinkWrapper,{children:/*#__PURE__*/_jsx(ExternalLink,{id:\"get-support-on-discord\",href:\"https://discord.gg/FCfyBSbCU5\",target:\"_blank\",children:/*#__PURE__*/_jsxs(ThemedText.Link,{fontSize:16,children:[/*#__PURE__*/_jsx(Trans,{id:\"Get support on Discord\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2197\"})]})})})]}):null]})})});}return this.props.children;}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(error){return{error:error};}}]);return ErrorBoundary;}(React.Component);export{ErrorBoundary as default};function getRelevantState(){var path=window.location.hash;if(!path.startsWith('#/')){return null;}var pieces=path.substring(2).split(/[/\\\\?]/);switch(pieces[0]){case'swap':return'swap';case'add':if(pieces[1]==='v2')return'mint';else return'mintV3';case'remove':if(pieces[1]==='v2')return'burn';else return'burnV3';}return null;}function issueBody(error){var relevantState=getRelevantState();var deviceData=userAgent;return\"## URL\\n  \\n\".concat(window.location.href,\"\\n\\n\").concat(relevantState?\"## `\".concat(relevantState,\"` state\\n    \\n```json\\n\").concat(JSON.stringify(store.getState()[relevantState],null,2),\"\\n```\\n\"):'',\"\\n\").concat(error.name&&\"## Error\\n\\n```\\n\".concat(error.name).concat(error.message&&\": \".concat(error.message),\"\\n```\\n\"),\"\\n\").concat(error.stack&&\"## Stacktrace\\n\\n```\\n\".concat(error.stack,\"\\n```\\n\"),\"\\n\").concat(deviceData&&\"## Device data\\n\\n```json\\n\".concat(JSON.stringify(deviceData,null,2),\"\\n```\\n\"),\"\\n\");}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/ErrorBoundary/index.tsx"],"names":["React","ReactGA","store","ExternalLink","ThemedText","userAgent","AutoColumn","AutoRow","FallbackWrapper","styled","div","BodyWrapper","CodeBlockWrapper","theme","bg0","text1","LinkWrapper","blue1","SomethingWentWrongWrapper","IS_UNISWAP","window","location","hostname","ErrorBoundary","props","state","error","errorInfo","exception","fatal","encodedBody","encodeURIComponent","issueBody","stack","name","message","children","Component","getRelevantState","path","hash","startsWith","pieces","substring","split","relevantState","deviceData","href","JSON","stringify","getState"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport React, { ErrorInfo } from 'react'\nimport ReactGA from 'react-ga'\nimport styled from 'styled-components/macro'\n\nimport store, { AppState } from '../../state'\nimport { ExternalLink, ThemedText } from '../../theme'\nimport { userAgent } from '../../utils/userAgent'\nimport { AutoColumn } from '../Column'\nimport { AutoRow } from '../Row'\n\nconst FallbackWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n  z-index: 1;\n`\n\nconst BodyWrapper = styled.div<{ margin?: string }>`\n  padding: 1rem;\n  width: 100%;\n  white-space: ;\n`\n\nconst CodeBlockWrapper = styled.div`\n  background: ${({ theme }) => theme.bg0};\n  overflow: auto;\n  white-space: pre;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  border-radius: 24px;\n  padding: 18px 24px;\n  color: ${({ theme }) => theme.text1};\n`\n\nconst LinkWrapper = styled.div`\n  color: ${({ theme }) => theme.blue1};\n  padding: 6px 24px;\n`\n\nconst SomethingWentWrongWrapper = styled.div`\n  padding: 6px 24px;\n`\n\ntype ErrorBoundaryState = {\n  error: Error | null\n}\n\nconst IS_UNISWAP = window.location.hostname === 'app.uniswap.org'\n\nexport default class ErrorBoundary extends React.Component<unknown, ErrorBoundaryState> {\n  constructor(props: unknown) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    ReactGA.exception({\n      ...error,\n      ...errorInfo,\n      fatal: true,\n    })\n  }\n\n  render() {\n    const { error } = this.state\n\n    if (error !== null) {\n      const encodedBody = encodeURIComponent(issueBody(error))\n      return (\n        <FallbackWrapper>\n          <BodyWrapper>\n            <AutoColumn gap={'md'}>\n              <SomethingWentWrongWrapper>\n                <ThemedText.Label fontSize={24} fontWeight={600}>\n                  <Trans>Something went wrong</Trans>\n                </ThemedText.Label>\n              </SomethingWentWrongWrapper>\n              <CodeBlockWrapper>\n                <code>\n                  <ThemedText.Main fontSize={10}>{error.stack}</ThemedText.Main>\n                </code>\n              </CodeBlockWrapper>\n              {IS_UNISWAP ? (\n                <AutoRow>\n                  <LinkWrapper>\n                    <ExternalLink\n                      id=\"create-github-issue-link\"\n                      href={`https://github.com/Uniswap/uniswap-interface/issues/new?assignees=&labels=bug&body=${encodedBody}&title=${encodeURIComponent(\n                        `Crash report: \\`${error.name}${error.message && `: ${error.message}`}\\``\n                      )}`}\n                      target=\"_blank\"\n                    >\n                      <ThemedText.Link fontSize={16}>\n                        <Trans>Create an issue on GitHub</Trans>\n                        <span>↗</span>\n                      </ThemedText.Link>\n                    </ExternalLink>\n                  </LinkWrapper>\n                  <LinkWrapper>\n                    <ExternalLink id=\"get-support-on-discord\" href=\"https://discord.gg/FCfyBSbCU5\" target=\"_blank\">\n                      <ThemedText.Link fontSize={16}>\n                        <Trans>Get support on Discord</Trans>\n                        <span>↗</span>\n                      </ThemedText.Link>\n                    </ExternalLink>\n                  </LinkWrapper>\n                </AutoRow>\n              ) : null}\n            </AutoColumn>\n          </BodyWrapper>\n        </FallbackWrapper>\n      )\n    }\n    return this.props.children\n  }\n}\n\nfunction getRelevantState(): null | keyof AppState {\n  const path = window.location.hash\n  if (!path.startsWith('#/')) {\n    return null\n  }\n  const pieces = path.substring(2).split(/[/\\\\?]/)\n  switch (pieces[0]) {\n    case 'swap':\n      return 'swap'\n    case 'add':\n      if (pieces[1] === 'v2') return 'mint'\n      else return 'mintV3'\n    case 'remove':\n      if (pieces[1] === 'v2') return 'burn'\n      else return 'burnV3'\n  }\n  return null\n}\n\nfunction issueBody(error: Error): string {\n  const relevantState = getRelevantState()\n  const deviceData = userAgent\n  return `## URL\n  \n${window.location.href}\n\n${\n  relevantState\n    ? `## \\`${relevantState}\\` state\n    \n\\`\\`\\`json\n${JSON.stringify(store.getState()[relevantState], null, 2)}\n\\`\\`\\`\n`\n    : ''\n}\n${\n  error.name &&\n  `## Error\n\n\\`\\`\\`\n${error.name}${error.message && `: ${error.message}`}\n\\`\\`\\`\n`\n}\n${\n  error.stack &&\n  `## Stacktrace\n\n\\`\\`\\`\n${error.stack}\n\\`\\`\\`\n`\n}\n${\n  deviceData &&\n  `## Device data\n\n\\`\\`\\`json\n${JSON.stringify(deviceData, null, 2)}\n\\`\\`\\`\n`\n}\n`\n}\n"]},"metadata":{},"sourceType":"module"}